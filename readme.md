# Описание проекта
DAG получается данные всех видео по каналам, указанным в переменной CHANNEL_NAMES(youtube_dag.py)
Далее статистику выгружает сначала в stage таблицу, где данные хранятся в текстовых столбцах, затем передает данные в основную таблицу в нужном формате.

docker-compose.yml - yml файлик для Docker'а
sandbox.ipynb - черновой файл, в котором проводится первичная отладка кода(для проекта не нужно)

# Цель
Изучить использование API Ютуба и заодно попрактиковаться в Airflow.

# Дальнейшие планы:
Создать слой с витриной, которая будет отображать агрегированную статистику на основе собранных данных.

# Проблемы с которыми я столкнулся
Не отрабатывал метод PostgresHook.insert_rows() . Выкидывало ошибку TypeError: sequence item 0: expected str instance, property found . Решить этот баг так и не получилось(перепробовал различные варианты, stackoverflow и chatgpt не помогли). Кажется проблема в самом методе.
Обошел проблему используя конструкцию cursor.executemany(INSERT_QUERY, df.to_records(index=False).tolist()) и т.д.


